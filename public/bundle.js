(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _DomBuilder = _interopRequireDefault(require("./DomBuilder"));

var _InterestData = _interopRequireDefault(require("./InterestData"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const DOMappend = {
  appendToDOM() {
    _InterestData.default.getAllInterest().then(interests => {
      let placesContainer = document.querySelector(".output");
      let interestFrag = document.createDocumentFragment();
      interests.forEach(interest => {
        console.log(interests);

        let interestHTML = _DomBuilder.default.interestDom(interest);

        interestFrag.appendChild(interestHTML);
      });

      while (placesContainer.firstChild) {
        placesContainer.removeChild(placesContainer.firstChild);
      }

      placesContainer.appendChild(interestFrag);
    });
  }

};
var _default = DOMappend;
exports.default = _default;

},{"./DomBuilder":2,"./InterestData":3}],2:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _InterestData = _interopRequireDefault(require("./InterestData"));

var _eventListener = _interopRequireDefault(require("./eventListener"));

var _DomAppend = _interopRequireDefault(require("./DomAppend"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const interestBuilder = {
  pageLoad() {
    let outputContainer = document.querySelector(".input");
    outputContainer.innerHTML = "";
    let interestFormContainer = document.createElement("container");
    interestFormContainer.classList.add("interestContainerForm");
    interestFormContainer.innerHTML = "<h2 class='interestFormHeader'>Add Your Interest</h2>";
    outputContainer.appendChild(interestFormContainer);
    let placeContainer = document.createElement("container");
    placeContainer.classList.add("placesContainer");
    outputContainer.appendChild(placeContainer);

    _DomAppend.default.appendToDOM();
  },

  interestFormCreater() {
    _InterestData.default.getPlaces().then(places => {
      let interestForm = document.createElement("form");
      interestForm.classList.add("interestForm");
      let interestFormContainer = document.querySelector(".interestContainerForm");
      interestFormContainer.appendChild(interestForm);
      let interestNameInput = document.createElement("input");
      let interestNameLabel = document.createElement("label");
      interestNameLabel.textContent = "Interest Name:";
      interestNameInput.setAttribute("type", "text");
      interestNameInput.classList.add("interestName");
      interestForm.appendChild(interestNameLabel);
      interestForm.appendChild(interestNameInput);
      let interestDescriptionInput = document.createElement("input");
      let interestDescriptionLabel = document.createElement("label");
      interestDescriptionLabel.setAttribute("type", "text");
      interestDescriptionInput.classList.add("interestDescription");
      interestDescriptionLabel.textContent = "Description:";
      interestForm.appendChild(interestDescriptionLabel);
      interestForm.appendChild(interestDescriptionInput);
      let costInput = document.createElement("input");
      let costLabel = document.createElement("label");
      costInput.classList.add("interestCost");
      costLabel.setAttribute("type", "text");
      costLabel.textContent = "Cost:";
      interestForm.appendChild(costLabel);
      interestForm.appendChild(costInput);
      let placeDropDown = document.createElement("select");
      placeDropDown.setAttribute("id", "mySelect");
      let LondonOption = document.createElement("option");
      LondonOption.setAttribute("value", `${places[0].id}`);
      LondonOption.textContent = `${places[0].name}`;
      let parisOptions = document.createElement("option");
      parisOptions.setAttribute("value", `${places[1].id}`);
      parisOptions.textContent = `${places[1].name}`;
      let berlinOptions = document.createElement("option");
      berlinOptions.setAttribute("value", `${places[2].id}`);
      berlinOptions.textContent = `${places[2].id}`;
      placeDropDown.appendChild(LondonOption);
      placeDropDown.appendChild(parisOptions);
      placeDropDown.appendChild(berlinOptions);
      interestForm.appendChild(placeDropDown);
      let interestSaveButton = document.createElement("button");
      interestSaveButton.setAttribute("class", "interestSaveButton");
      interestSaveButton.textContent = "save";
      interestForm.appendChild(interestSaveButton);
      interestSaveButton.addEventListener("click", _eventListener.default.interestSave);
    });
  },

  interestDom(value) {
    let interestContainer = document.querySelector(".output");
    interestContainer.setAttribute("id", `interest--${value.name}`);
    let place = document.createElement("h2");
    place.innerHTML = `Place: <p>${place.value}</p>`;
    interestContainer.appendChild(place);
    let name = document.createElement("h3");
    name.innerHTML = `name: <p>${value.name}</p>`;
    interestContainer.appendChild(name);
    let description = document.createElement("h3");
    description.innerHTML = `description: <p>${value.description}</p>`;
    interestContainer.appendChild(description);
    let cost = document.createElement("p");
    cost.innerHTML = `cost: <p>${value.cost}</p>`;
    interestContainer.appendChild(cost);
    let review = document.createElement("p");
    review.innerHTML = `review: <p>${value.review}</p>`;
    review.setAttribute("id", `review--${value.id}`);
    interestContainer.appendChild(review);
    let interestEditButton = document.createElement("button");
    interestEditButton.innerText = "Edit";
    interestEditButton.setAttribute("id", `interestedit--${value.id}`);
    let interestDeleteButton = document.createElement("button");
    interestDeleteButton.innerText = "Delete";
    interestDeleteButton.setAttribute("id", `interest--${value.id}`);
    interestContainer.classList.add("interestContainer");
    interestDeleteButton.addEventListener("click", _eventListener.default.deletePrompt);
    interestContainer.appendChild(interestEditButton);
    interestContainer.appendChild(interestDeleteButton);

    _InterestData.default.getAllInterest().then(() => {
      interestEditButton.addEventListener("click", () => {
        interestBuilder.interestEditForm(IDBCursorWithValue);
      });
    });

    return interestContainer;
  },

  interestEditForm() {
    let interestEditId = event.target.id;
    interestId = interestEditId.split("--")[1];
    let costEditfield = document.createElement("input");
    costEditfield.setAttribute("type", "text");
    costEditfield.classList.add("costEditField");
    let costEditLabel = document.createElement("label");
    costEditLabel.textContent = "cost:";
    let reviewEditField = document.createElement("input");
    reviewEditField.setAttribute("type", "text");
    reviewEditField.classList.add("reviewEditField");
    let reviewEditLabel = document.createElement("label");
    reviewEditLabel.textContent = "Edit review:";
    let saveButton = document.createElement("button");
    saveButton.textContent = "Save";

    _InterestData.default.getInterest(interestId).then(interestId => {
      console.log(interest.cost);
      costEditfield.value = interest.value;
      reviewEditField.value = review.value;
      saveButton.addEventListener("click", () => {
        let placeId = interest.placeId;
        let name = interest.name;
        let description = interest.description;
        let editedInterest = {
          placeId: id,
          name: name,
          description: description,
          cost: costEditfield.value,
          review: reviewEditField.value
        };

        _InterestData.default.editInterest(interest.id, editedInterest).then(() => {
          DOMEappend.appendToDom();
        });
      });
    });

    let interestContainer = document.querySelector(`#interest--${interestId}`);
    interestContainer.appendChild(costEditLabel);
    interestContainer.appendChild(costEditfield);
    interestContainer.appendChild(reviewEditLabel);
    interestContainer.appendChild(reviewEditField);
    interestContainer.appendChild(saveButton);
  }

};
var _default = interestBuilder;
exports.default = _default;

},{"./DomAppend":1,"./InterestData":3,"./eventListener":4}],3:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
const data = {
  getPlaces() {
    return fetch("http://localhost:8088/places").then(response => response.json());
  },

  postInterest(object) {
    return fetch("http://localhost:8088/interests", {
      method: "POST",
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify(object)
    });
  },

  getAllInterest() {
    return fetch("http://localhost:8088/interests/").then(response => response.json());
  },

  deleteInterest(interestId) {
    return fetch(`http://localhost:8088/interests/${interestId}`, {
      method: "DELETE",
      headers: {
        "Content-Type": "application/json"
      }
    });
  },

  getInterest(id) {
    return fetch(`http://localhost:8088/interests/${id}`).then(response => response.json());
  },

  editInterest(id, description) {
    return fetch(`http://localhost:8088/interests/${id}`, {
      method: "PUT",
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify(description)
    });
  }

};
var _default = data;
exports.default = _default;

},{}],4:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _InterestData = _interopRequireDefault(require("./InterestData"));

var _DomAppend = _interopRequireDefault(require("./DomAppend"));

var _DomBuilder = _interopRequireDefault(require("./DomBuilder"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const eventListeners = {
  interestSave() {
    event.preventDefault();
    let name = document.querySelector(".interestName").value;
    let description = document.querySelector(".interestDescription").value;
    let cost = document.querySelector(".interestCost").value;
    let place = document.querySelector("#mySelect").value;
    let interestObject = {
      placeId: place,
      name: name,
      description: description,
      cost: cost,
      review: ""
    };

    _InterestData.default.postInterest(interestObject).then(() => {
      _DomAppend.default.appendToDOM();
    });
  },

  interestDelete() {
    let InterestDeleteId = event.target.id.split("--")[1];

    _InterestData.default.deleteInterest(InterestDeleteId).then(() => {
      _DomBuilder.default.onPageLoad();

      _DomBuilder.default.interestFormCreator();
    });
  },

  deletePrompt() {
    if (confirm("Are you sure you want to delete?")) {
      eventListeners.interestDelete();
    } else {}
  }

};
var _default = eventListeners;
exports.default = _default;

},{"./DomAppend":1,"./DomBuilder":2,"./InterestData":3}],5:[function(require,module,exports){
"use strict";

var _DomBuilder = _interopRequireDefault(require("./DomBuilder"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

_DomBuilder.default.pageLoad();

_DomBuilder.default.interestFormCreater();

},{"./DomBuilder":2}]},{},[5])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIuLi9zY3JpcHRzL0RvbUFwcGVuZC5qcyIsIi4uL3NjcmlwdHMvRG9tQnVpbGRlci5qcyIsIi4uL3NjcmlwdHMvSW50ZXJlc3REYXRhLmpzIiwiLi4vc2NyaXB0cy9ldmVudExpc3RlbmVyLmpzIiwiLi4vc2NyaXB0cy9tYWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7OztBQ0FBOztBQUNBOzs7O0FBQ0EsTUFBTSxTQUFTLEdBQUc7QUFDZCxFQUFBLFdBQVcsR0FBRztBQUNWLDBCQUFLLGNBQUwsR0FDQyxJQURELENBQ08sU0FBUyxJQUFJO0FBRWhCLFVBQUksZUFBZSxHQUFHLFFBQVEsQ0FBQyxhQUFULENBQXVCLFNBQXZCLENBQXRCO0FBQ0EsVUFBSSxZQUFZLEdBQUcsUUFBUSxDQUFDLHNCQUFULEVBQW5CO0FBQ0EsTUFBQSxTQUFTLENBQUMsT0FBVixDQUFrQixRQUFRLElBQUk7QUFDMUIsUUFBQSxPQUFPLENBQUMsR0FBUixDQUFZLFNBQVo7O0FBQ0EsWUFBSSxZQUFZLEdBQUcsb0JBQWdCLFdBQWhCLENBQTRCLFFBQTVCLENBQW5COztBQUNBLFFBQUEsWUFBWSxDQUFDLFdBQWIsQ0FBeUIsWUFBekI7QUFDSCxPQUpEOztBQUtBLGFBQU8sZUFBZSxDQUFDLFVBQXZCLEVBQW1DO0FBQy9CLFFBQUEsZUFBZSxDQUFDLFdBQWhCLENBQTRCLGVBQWUsQ0FBQyxVQUE1QztBQUNIOztBQUNELE1BQUEsZUFBZSxDQUFDLFdBQWhCLENBQTRCLFlBQTVCO0FBQ0gsS0FkRDtBQWVIOztBQWpCYSxDQUFsQjtlQXNCZSxTOzs7Ozs7Ozs7OztBQ3hCZjs7QUFDQTs7QUFDQTs7OztBQUdBLE1BQU0sZUFBZSxHQUFHO0FBQ3BCLEVBQUEsUUFBUSxHQUFHO0FBQ1AsUUFBSSxlQUFlLEdBQUcsUUFBUSxDQUFDLGFBQVQsQ0FBdUIsUUFBdkIsQ0FBdEI7QUFDQSxJQUFBLGVB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Q0Esb0JBQWdCLG1CQUFoQiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsImltcG9ydCBpbnRlcmVzdEJ1aWxkZXIgZnJvbSBcIi4vRG9tQnVpbGRlclwiXG5pbXBvcnQgZGF0YSBmcm9tIFwiLi9JbnRlcmVzdERhdGFcIlxuY29uc3QgRE9NYXBwZW5kID0ge1xuICAgIGFwcGVuZFRvRE9NKCkge1xuICAgICAgICBkYXRhLmdldEFsbEludGVyZXN0KClcbiAgICAgICAgLnRoZW4gKGludGVyZXN0cyA9PiB7XG5cbiAgICAgICAgICAgIGxldCBwbGFjZXNDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm91dHB1dFwiKTtcbiAgICAgICAgICAgIGxldCBpbnRlcmVzdEZyYWcgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KClcbiAgICAgICAgICAgIGludGVyZXN0cy5mb3JFYWNoKGludGVyZXN0ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhpbnRlcmVzdHMpXG4gICAgICAgICAgICAgICAgbGV0IGludGVyZXN0SFRNTCA9IGludGVyZXN0QnVpbGRlci5pbnRlcmVzdERvbShpbnRlcmVzdCk7XG4gICAgICAgICAgICAgICAgaW50ZXJlc3RGcmFnLmFwcGVuZENoaWxkKGludGVyZXN0SFRNTCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgd2hpbGUgKHBsYWNlc0NvbnRhaW5lci5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICAgICAgcGxhY2VzQ29udGFpbmVyLnJlbW92ZUNoaWxkKHBsYWNlc0NvbnRhaW5lci5maXJzdENoaWxkKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGxhY2VzQ29udGFpbmVyLmFwcGVuZENoaWxkKGludGVyZXN0RnJhZyk7XG4gICAgICAgIH0pXG4gICAgfVxufVxuXG5cblxuZXhwb3J0IGRlZmF1bHQgRE9NYXBwZW5kOyIsImltcG9ydCBkYXRhIGZyb20gXCIuL0ludGVyZXN0RGF0YVwiO1xuaW1wb3J0IGV2ZW50TGlzdGVuZXJzIGZyb20gXCIuL2V2ZW50TGlzdGVuZXJcIlxuaW1wb3J0IERPTWFwcGVuZCBmcm9tIFwiLi9Eb21BcHBlbmRcIlxuXG5cbmNvbnN0IGludGVyZXN0QnVpbGRlciA9IHtcbiAgICBwYWdlTG9hZCgpIHtcbiAgICAgICAgbGV0IG91dHB1dENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaW5wdXRcIilcbiAgICAgICAgb3V0cHV0Q29udGFpbmVyLmlubmVySFRNTCA9IFwiXCI7XG4gICAgICAgIGxldCBpbnRlcmVzdEZvcm1Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY29udGFpbmVyXCIpXG4gICAgICAgIGludGVyZXN0Rm9ybUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiaW50ZXJlc3RDb250YWluZXJGb3JtXCIpO1xuICAgICAgICBpbnRlcmVzdEZvcm1Db250YWluZXIuaW5uZXJIVE1MID0gXCI8aDIgY2xhc3M9J2ludGVyZXN0Rm9ybUhlYWRlcic+QWRkIFlvdXIgSW50ZXJlc3Q8L2gyPlwiIDtcbiAgICAgICAgb3V0cHV0Q29udGFpbmVyLmFwcGVuZENoaWxkKGludGVyZXN0Rm9ybUNvbnRhaW5lcilcblxuICAgICAgICBsZXQgcGxhY2VDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY29udGFpbmVyXCIpXG4gICAgICAgIHBsYWNlQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJwbGFjZXNDb250YWluZXJcIilcbiAgICAgICAgb3V0cHV0Q29udGFpbmVyLmFwcGVuZENoaWxkKHBsYWNlQ29udGFpbmVyKVxuXG4gICAgICAgIERPTWFwcGVuZC5hcHBlbmRUb0RPTSgpO1xuXG4gICAgfSxcbiAgICBpbnRlcmVzdEZvcm1DcmVhdGVyKCkge1xuICAgICAgICBkYXRhLmdldFBsYWNlcygpXG4gICAgICAgICAgICAudGhlbihwbGFjZXMgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBpbnRlcmVzdEZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZm9ybVwiKTtcbiAgICAgICAgICAgICAgICBpbnRlcmVzdEZvcm0uY2xhc3NMaXN0LmFkZChcImludGVyZXN0Rm9ybVwiKVxuICAgICAgICAgICAgICAgIGxldCBpbnRlcmVzdEZvcm1Db250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmludGVyZXN0Q29udGFpbmVyRm9ybVwiKVxuICAgICAgICAgICAgICAgIGludGVyZXN0Rm9ybUNvbnRhaW5lci5hcHBlbmRDaGlsZChpbnRlcmVzdEZvcm0pXG5cbiAgICAgICAgICAgICAgICBsZXQgaW50ZXJlc3ROYW1lSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICAgICAgICAgICAgbGV0IGludGVyZXN0TmFtZUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuXG4gICAgICAgICAgICAgICAgaW50ZXJlc3ROYW1lTGFiZWwudGV4dENvbnRlbnQgPSBcIkludGVyZXN0IE5hbWU6XCJcbiAgICAgICAgICAgICAgICBpbnRlcmVzdE5hbWVJbnB1dC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwidGV4dFwiKTtcbiAgICAgICAgICAgICAgICBpbnRlcmVzdE5hbWVJbnB1dC5jbGFzc0xpc3QuYWRkKFwiaW50ZXJlc3ROYW1lXCIpO1xuICAgICAgICAgICAgICAgIGludGVyZXN0Rm9ybS5hcHBlbmRDaGlsZChpbnRlcmVzdE5hbWVMYWJlbCk7XG4gICAgICAgICAgICAgICAgaW50ZXJlc3RGb3JtLmFwcGVuZENoaWxkKGludGVyZXN0TmFtZUlucHV0KTtcblxuXG5cbiAgICAgICAgICAgICAgICBsZXQgaW50ZXJlc3REZXNjcmlwdGlvbklucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpXG4gICAgICAgICAgICAgICAgbGV0IGludGVyZXN0RGVzY3JpcHRpb25MYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcbiAgICAgICAgICAgICAgICBpbnRlcmVzdERlc2NyaXB0aW9uTGFiZWwuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInRleHRcIik7XG4gICAgICAgICAgICAgICAgaW50ZXJlc3REZXNjcmlwdGlvbklucHV0LmNsYXNzTGlzdC5hZGQoXCJpbnRlcmVzdERlc2NyaXB0aW9uXCIpO1xuICAgICAgICAgICAgICAgIGludGVyZXN0RGVzY3JpcHRpb25MYWJlbC50ZXh0Q29udGVudCA9IFwiRGVzY3JpcHRpb246XCJcbiAgICAgICAgICAgICAgICBpbnRlcmVzdEZvcm0uYXBwZW5kQ2hpbGQoaW50ZXJlc3REZXNjcmlwdGlvbkxhYmVsKVxuICAgICAgICAgICAgICAgIGludGVyZXN0Rm9ybS5hcHBlbmRDaGlsZChpbnRlcmVzdERlc2NyaXB0aW9uSW5wdXQpXG5cblxuXG4gICAgICAgICAgICAgICAgbGV0IGNvc3RJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKVxuICAgICAgICAgICAgICAgIGxldCBjb3N0TGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIilcbiAgICAgICAgICAgICAgICBjb3N0SW5wdXQuY2xhc3NMaXN0LmFkZChcImludGVyZXN0Q29zdFwiKVxuICAgICAgICAgICAgICAgIGNvc3RMYWJlbC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwidGV4dFwiKVxuICAgICAgICAgICAgICAgIGNvc3RMYWJlbC50ZXh0Q29udGVudCA9IFwiQ29zdDpcIlxuICAgICAgICAgICAgICAgIGludGVyZXN0Rm9ybS5hcHBlbmRDaGlsZChjb3N0TGFiZWwpXG4gICAgICAgICAgICAgICAgaW50ZXJlc3RGb3JtLmFwcGVuZENoaWxkKGNvc3RJbnB1dClcblxuICAgICAgICAgICAgICAgIGxldCBwbGFjZURyb3BEb3duID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKVxuICAgICAgICAgICAgICAgIHBsYWNlRHJvcERvd24uc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJteVNlbGVjdFwiKVxuICAgICAgICAgICAgICAgIGxldCBMb25kb25PcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpXG4gICAgICAgICAgICAgICAgTG9uZG9uT3B0aW9uLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIGAke3BsYWNlc1swXS5pZH1gKVxuICAgICAgICAgICAgICAgIExvbmRvbk9wdGlvbi50ZXh0Q29udGVudCA9IGAke3BsYWNlc1swXS5uYW1lfWBcblxuXG4gICAgICAgICAgICAgICAgbGV0IHBhcmlzT3B0aW9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIilcbiAgICAgICAgICAgICAgICBwYXJpc09wdGlvbnMuc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgYCR7cGxhY2VzWzFdLmlkfWApXG4gICAgICAgICAgICAgICAgcGFyaXNPcHRpb25zLnRleHRDb250ZW50ID0gYCR7cGxhY2VzWzFdLm5hbWV9YFxuXG5cbiAgICAgICAgICAgICAgICBsZXQgYmVybGluT3B0aW9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIilcbiAgICAgICAgICAgICAgICBiZXJsaW5PcHRpb25zLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIGAke3BsYWNlc1syXS5pZH1gKVxuICAgICAgICAgICAgICAgIGJlcmxpbk9wdGlvbnMudGV4dENvbnRlbnQgPSBgJHtwbGFjZXNbMl0uaWR9YFxuXG5cblxuICAgICAgICAgICAgICAgIHBsYWNlRHJvcERvd24uYXBwZW5kQ2hpbGQoTG9uZG9uT3B0aW9uKVxuICAgICAgICAgICAgICAgIHBsYWNlRHJvcERvd24uYXBwZW5kQ2hpbGQocGFyaXNPcHRpb25zKVxuICAgICAgICAgICAgICAgIHBsYWNlRHJvcERvd24uYXBwZW5kQ2hpbGQoYmVybGluT3B0aW9ucylcbiAgICAgICAgICAgICAgICBpbnRlcmVzdEZvcm0uYXBwZW5kQ2hpbGQocGxhY2VEcm9wRG93bilcblxuICAgICAgICAgICAgICAgIGxldCBpbnRlcmVzdFNhdmVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpXG4gICAgICAgICAgICAgICAgaW50ZXJlc3RTYXZlQnV0dG9uLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiaW50ZXJlc3RTYXZlQnV0dG9uXCIpXG4gICAgICAgICAgICAgICAgaW50ZXJlc3RTYXZlQnV0dG9uLnRleHRDb250ZW50ID0gXCJzYXZlXCJcbiAgICAgICAgICAgICAgICBpbnRlcmVzdEZvcm0uYXBwZW5kQ2hpbGQoaW50ZXJlc3RTYXZlQnV0dG9uKTtcblxuXG4gICAgICAgICAgICAgICAgaW50ZXJlc3RTYXZlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudExpc3RlbmVycy5pbnRlcmVzdFNhdmUpXG5cbiAgICAgICAgICAgIH0pXG4gICAgfSxcbiAgICBpbnRlcmVzdERvbSh2YWx1ZSkge1xuICAgICAgICBsZXQgaW50ZXJlc3RDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm91dHB1dFwiKTtcbiAgICAgICAgaW50ZXJlc3RDb250YWluZXIuc2V0QXR0cmlidXRlKFwiaWRcIiwgYGludGVyZXN0LS0ke3ZhbHVlLm5hbWV9YCk7XG5cbiAgICAgICAgbGV0IHBsYWNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgyXCIpXG4gICAgICAgIHBsYWNlLmlubmVySFRNTCA9IGBQbGFjZTogPHA+JHtwbGFjZS52YWx1ZX08L3A+YFxuICAgICAgICBpbnRlcmVzdENvbnRhaW5lci5hcHBlbmRDaGlsZChwbGFjZSlcblxuICAgICAgICBsZXQgbmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoM1wiKVxuICAgICAgICBuYW1lLmlubmVySFRNTCA9IGBuYW1lOiA8cD4ke3ZhbHVlLm5hbWV9PC9wPmBcbiAgICAgICAgaW50ZXJlc3RDb250YWluZXIuYXBwZW5kQ2hpbGQobmFtZSlcblxuICAgICAgICBsZXQgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDNcIilcbiAgICAgICAgZGVzY3JpcHRpb24uaW5uZXJIVE1MID0gYGRlc2NyaXB0aW9uOiA8cD4ke3ZhbHVlLmRlc2NyaXB0aW9ufTwvcD5gXG4gICAgICAgIGludGVyZXN0Q29udGFpbmVyLmFwcGVuZENoaWxkKGRlc2NyaXB0aW9uKVxuXG5cbiAgICAgICAgbGV0IGNvc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKVxuICAgICAgICBjb3N0LmlubmVySFRNTCA9IGBjb3N0OiA8cD4ke3ZhbHVlLmNvc3R9PC9wPmBcbiAgICAgICAgaW50ZXJlc3RDb250YWluZXIuYXBwZW5kQ2hpbGQoY29zdClcblxuICAgICAgICBsZXQgcmV2aWV3ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIilcbiAgICAgICAgcmV2aWV3LmlubmVySFRNTCA9IGByZXZpZXc6IDxwPiR7dmFsdWUucmV2aWV3fTwvcD5gXG4gICAgICAgIHJldmlldy5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBgcmV2aWV3LS0ke3ZhbHVlLmlkfWApXG4gICAgICAgIGludGVyZXN0Q29udGFpbmVyLmFwcGVuZENoaWxkKHJldmlldylcblxuXG4gICAgICAgIGxldCBpbnRlcmVzdEVkaXRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpXG4gICAgICAgIGludGVyZXN0RWRpdEJ1dHRvbi5pbm5lclRleHQgPSBcIkVkaXRcIlxuICAgICAgICBpbnRlcmVzdEVkaXRCdXR0b24uc2V0QXR0cmlidXRlKFwiaWRcIiwgYGludGVyZXN0ZWRpdC0tJHt2YWx1ZS5pZH1gKVxuXG5cbiAgICAgICAgbGV0IGludGVyZXN0RGVsZXRlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKVxuICAgICAgICBpbnRlcmVzdERlbGV0ZUJ1dHRvbi5pbm5lclRleHQgPSBcIkRlbGV0ZVwiO1xuICAgICAgICBpbnRlcmVzdERlbGV0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBgaW50ZXJlc3QtLSR7dmFsdWUuaWR9YClcbiAgICAgICAgaW50ZXJlc3RDb250YWluZXIuY2xhc3NMaXN0LmFkZChcImludGVyZXN0Q29udGFpbmVyXCIpXG4gICAgICAgIGludGVyZXN0RGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudExpc3RlbmVycy5kZWxldGVQcm9tcHQpXG4gICAgICAgIGludGVyZXN0Q29udGFpbmVyLmFwcGVuZENoaWxkKGludGVyZXN0RWRpdEJ1dHRvbilcbiAgICAgICAgaW50ZXJlc3RDb250YWluZXIuYXBwZW5kQ2hpbGQoaW50ZXJlc3REZWxldGVCdXR0b24pXG5cblxuXG4gICAgICAgIGRhdGEuZ2V0QWxsSW50ZXJlc3QoKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGludGVyZXN0RWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpbnRlcmVzdEJ1aWxkZXIuaW50ZXJlc3RFZGl0Rm9ybShJREJDdXJzb3JXaXRoVmFsdWUpXG5cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuIGludGVyZXN0Q29udGFpbmVyO1xuICAgIH0sXG4gICAgaW50ZXJlc3RFZGl0Rm9ybSgpIHtcbiAgICAgICAgbGV0IGludGVyZXN0RWRpdElkID0gZXZlbnQudGFyZ2V0LmlkO1xuICAgICAgICBpbnRlcmVzdElkID0gaW50ZXJlc3RFZGl0SWQuc3BsaXQoXCItLVwiKVsxXVxuXG4gICAgICAgIGxldCBjb3N0RWRpdGZpZWxkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpXG4gICAgICAgIGNvc3RFZGl0ZmllbGQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInRleHRcIilcbiAgICAgICAgY29zdEVkaXRmaWVsZC5jbGFzc0xpc3QuYWRkKFwiY29zdEVkaXRGaWVsZFwiKVxuICAgICAgICBsZXQgY29zdEVkaXRMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKVxuICAgICAgICBjb3N0RWRpdExhYmVsLnRleHRDb250ZW50ID0gXCJjb3N0OlwiXG5cbiAgICAgICAgbGV0IHJldmlld0VkaXRGaWVsZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKVxuICAgICAgICByZXZpZXdFZGl0RmllbGQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInRleHRcIilcbiAgICAgICAgcmV2aWV3RWRpdEZpZWxkLmNsYXNzTGlzdC5hZGQoXCJyZXZpZXdFZGl0RmllbGRcIilcbiAgICAgICAgbGV0IHJldmlld0VkaXRMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKVxuICAgICAgICByZXZpZXdFZGl0TGFiZWwudGV4dENvbnRlbnQgPSBcIkVkaXQgcmV2aWV3OlwiXG5cblxuICAgICAgICBsZXQgc2F2ZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIilcbiAgICAgICAgc2F2ZUJ1dHRvbi50ZXh0Q29udGVudCA9IFwiU2F2ZVwiXG5cbiAgICAgICAgZGF0YS5nZXRJbnRlcmVzdChpbnRlcmVzdElkKVxuICAgICAgICAgICAgLnRoZW4oaW50ZXJlc3RJZCA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coaW50ZXJlc3QuY29zdClcbiAgICAgICAgICAgICAgICBjb3N0RWRpdGZpZWxkLnZhbHVlID0gaW50ZXJlc3QudmFsdWVcbiAgICAgICAgICAgICAgICByZXZpZXdFZGl0RmllbGQudmFsdWUgPSByZXZpZXcudmFsdWVcbiAgICAgICAgICAgICAgICBzYXZlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwbGFjZUlkID0gaW50ZXJlc3QucGxhY2VJZFxuICAgICAgICAgICAgICAgICAgICBsZXQgbmFtZSA9IGludGVyZXN0Lm5hbWVcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRlc2NyaXB0aW9uID0gaW50ZXJlc3QuZGVzY3JpcHRpb25cblxuXG4gICAgICAgICAgICAgICAgICAgIGxldCBlZGl0ZWRJbnRlcmVzdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlSWQ6IGlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvc3Q6IGNvc3RFZGl0ZmllbGQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXZpZXc6IHJldmlld0VkaXRGaWVsZC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGRhdGEuZWRpdEludGVyZXN0KGludGVyZXN0LmlkLCBlZGl0ZWRJbnRlcmVzdClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBET01FYXBwZW5kLmFwcGVuZFRvRG9tKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgfSlcbiAgICAgICAgbGV0IGludGVyZXN0Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI2ludGVyZXN0LS0ke2ludGVyZXN0SWR9YClcbiAgICAgICAgaW50ZXJlc3RDb250YWluZXIuYXBwZW5kQ2hpbGQoY29zdEVkaXRMYWJlbClcbiAgICAgICAgaW50ZXJlc3RDb250YWluZXIuYXBwZW5kQ2hpbGQoY29zdEVkaXRmaWVsZClcbiAgICAgICAgaW50ZXJlc3RDb250YWluZXIuYXBwZW5kQ2hpbGQocmV2aWV3RWRpdExhYmVsKVxuICAgICAgICBpbnRlcmVzdENvbnRhaW5lci5hcHBlbmRDaGlsZChyZXZpZXdFZGl0RmllbGQpXG4gICAgICAgIGludGVyZXN0Q29udGFpbmVyLmFwcGVuZENoaWxkKHNhdmVCdXR0b24pXG5cbiAgICB9XG59XG5cblxuXG5cbmV4cG9ydCBkZWZhdWx0IGludGVyZXN0QnVpbGRlciIsImNvbnN0IGRhdGEgPSB7XG5cbiAgICBnZXRQbGFjZXMoKSB7XG4gICAgICAgIHJldHVybiBmZXRjaChcImh0dHA6Ly9sb2NhbGhvc3Q6ODA4OC9wbGFjZXNcIilcbiAgICAgICAgLnRoZW4ocmVzcG9uc2U9PnJlc3BvbnNlLmpzb24oKSlcbiAgICB9LFxuXG4gICAgcG9zdEludGVyZXN0KG9iamVjdCkge1xuICAgICAgICByZXR1cm4gZmV0Y2goXCJodHRwOi8vbG9jYWxob3N0OjgwODgvaW50ZXJlc3RzXCIsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShvYmplY3QpXG4gICAgICAgIH0pXG4gICAgfSxcblxuICAgIGdldEFsbEludGVyZXN0KCkge1xuICAgICAgICByZXR1cm4gZmV0Y2goXCJodHRwOi8vbG9jYWxob3N0OjgwODgvaW50ZXJlc3RzL1wiKVxuICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXG4gICAgfSxcblxuICAgIGRlbGV0ZUludGVyZXN0KGludGVyZXN0SWQpIHtcbiAgICAgICAgcmV0dXJuIGZldGNoKGBodHRwOi8vbG9jYWxob3N0OjgwODgvaW50ZXJlc3RzLyR7aW50ZXJlc3RJZH1gLCB7XG4gICAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfSxcblxuICAgIGdldEludGVyZXN0KGlkKSB7XG4gICAgICAgcmV0dXJuIGZldGNoIChgaHR0cDovL2xvY2FsaG9zdDo4MDg4L2ludGVyZXN0cy8ke2lkfWApXG4gICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxuICAgIH0sXG5cbiAgICBlZGl0SW50ZXJlc3QgKGlkLCBkZXNjcmlwdGlvbikge1xuICAgICAgICByZXR1cm4gZmV0Y2goYGh0dHA6Ly9sb2NhbGhvc3Q6ODA4OC9pbnRlcmVzdHMvJHtpZH1gLCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkZXNjcmlwdGlvbilcbiAgICAgICAgfSlcblxuICAgIH1cblxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IGRhdGE7IiwiaW1wb3J0IGRhdGEgZnJvbSBcIi4vSW50ZXJlc3REYXRhXCI7XG5pbXBvcnQgRE9NYXBwZW5kIGZyb20gXCIuL0RvbUFwcGVuZFwiO1xuaW1wb3J0IERPTWJ1aWxkZXIgZnJvbSBcIi4vRG9tQnVpbGRlclwiO1xuXG5jb25zdCBldmVudExpc3RlbmVycyA9IHtcblxuICAgIGludGVyZXN0U2F2ZSgpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgICBsZXQgbmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaW50ZXJlc3ROYW1lXCIpLnZhbHVlO1xuICAgICAgICBsZXQgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmludGVyZXN0RGVzY3JpcHRpb25cIikudmFsdWVcbiAgICAgICAgbGV0IGNvc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmludGVyZXN0Q29zdFwiKS52YWx1ZVxuICAgICAgICBsZXQgcGxhY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI215U2VsZWN0XCIpLnZhbHVlXG5cbiAgICAgICAgbGV0IGludGVyZXN0T2JqZWN0ID0ge1xuICAgICAgICAgICAgcGxhY2VJZDogcGxhY2UsXG4gICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgY29zdDogY29zdCxcbiAgICAgICAgICAgIHJldmlldzogXCJcIlxuICAgICAgICB9XG5cbiAgICAgICAgZGF0YS5wb3N0SW50ZXJlc3QoaW50ZXJlc3RPYmplY3QpXG4gICAgICAgIC50aGVuICgoKT0+IHtcbiAgICAgICAgRE9NYXBwZW5kLmFwcGVuZFRvRE9NKClcbiAgICAgICAgfSlcbiAgICB9LFxuXG5cblxuICAgIGludGVyZXN0RGVsZXRlKCkge1xuICAgICAgICBsZXQgSW50ZXJlc3REZWxldGVJZCA9IGV2ZW50LnRhcmdldC5pZC5zcGxpdChcIi0tXCIpWzFdXG4gICAgICAgICAgICAgICAgZGF0YS5kZWxldGVJbnRlcmVzdChJbnRlcmVzdERlbGV0ZUlkKVxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgRE9NYnVpbGRlci5vblBhZ2VMb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgIERPTWJ1aWxkZXIuaW50ZXJlc3RGb3JtQ3JlYXRvcigpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgfSxcblxuICAgIGRlbGV0ZVByb21wdCAoKSB7XG4gICAgICAgIGlmIChjb25maXJtKFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZT9cIikpIHtcbiAgICAgICAgICAgIGV2ZW50TGlzdGVuZXJzLmludGVyZXN0RGVsZXRlKClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgfVxuICAgIH1cblxufVxuXG5cblxuZXhwb3J0IGRlZmF1bHQgZXZlbnRMaXN0ZW5lcnMiLCJpbXBvcnQgaW50ZXJlc3RCdWlsZGVyIGZyb20gXCIuL0RvbUJ1aWxkZXJcIlxuaW50ZXJlc3RCdWlsZGVyLnBhZ2VMb2FkKClcbmludGVyZXN0QnVpbGRlci5pbnRlcmVzdEZvcm1DcmVhdGVyKCkiXX0=
